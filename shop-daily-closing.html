<!DOCTYPE html>
<html lang="es" class="has-navbar-fixed-top">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Cierre diario</title>
  <link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico">
  <link rel="stylesheet" href="/css/backoffice_main.css" />
  <link rel="stylesheet" href="/css/backoffice_menu.css" />
  <script src="https://kit.fontawesome.com/3ceab47e69.js" crossorigin="anonymous"></script>
  <style>
    .content table td,
    .content table th {
      padding: 2px;
    }

    thead th {
      background: hsl(217, 71%, 45%);
      color: white !important;
      text-align: center !important;
    }
  </style>
</head>

<body>
  <header>
    <nav class="navbar is-black is-fixed-top">
      <div class="navbar-brand">
        <a class="navbar-inner p-2" href="#home">
          <img src="/assets/logo-blanco.png" alt="Elegance Studio EC" width="130">
        </a>
        <span class="navbar-item icon-text is-small">
          <span class="icon">
            <i class="fa-solid fa-location-dot"></i>
          </span>
          <span id="shop-location"></span>
        </span>
        <div class="navbar-burger burger" data-target="navMenu">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
      <div id="navMenu" class="navbar-menu">
        <div class="horizontal-menu navbar-start is-hidden-desktop"></div>
        <div class="navbar-end">
          <div class="navbar-item logout">
            <a class="button is-danger is-small logout" title="Cerrar sesion de trabajo">
              <strong>Salir</strong>
              <span class="icon is-small"><i class="fa-solid fa-right-from-bracket"></i></span>
            </a>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <aside class="vertical-menu is-2 is-fullheight has-background-white-bis is-hidden-touch p-4">
  </aside>

  <div class="main-content columns is-multiline">
    <div class="column column is-10-tablet is-8-desktop is-7-widescreen is-offset-1-tablet is-offset-2-desktop">
      <div class="tabs is-small is-fullwidth  p-2 m-0 is-hidden-mobile">
        <ul>
          <li class="is-active has-text-weight-semibold is-size-5 is-size-6-touch">
            <span class="icon is-small"><i class="fa-solid fa-shop-lock"></i></span>
            <span>Cierre Diario</span>
          </li>
          <li class="is-hidden-mobile"></li>
          <li class="is-hidden-mobile"></li>
          <li class="is-hidden-mobile"></li>
          <li class="is-hidden-mobile"></li>
        </ul>
      </div>

      <div class="card p-0 pt-2 is-size-7">
        <header class="card-header has-background-info-dark">
          <p class="card-header-title has-text-white is-size-6">
            <span class="icon-text">
              <span class="icon">
                <i class="fa-solid fa-list-check"></i>
              </span>
              <span>Ingresos</span>
            </span>
          </p>
        </header>
        <div class="card-content has-background-info-light m-0 p-0">
          <div class="content">

            <div class="summary-filters field is-horizontal m-0 pt-2 pl-2">
              <div class="field-label is-normal is-hidden-mobile">
                <label class="label">Fecha:</label>
              </div>
              <div class="field-body">
                <div class="field is-expanded">
                  <div class="field has-addons">
                    <p class="control is-narrow" title="Fecha de cierre de caja diario">
                      <input type="date" class="summary-day input is-small" onkeydown="return false" required />
                    </p>
                    <p class="control">
                      <button class="summary-day-update button is-small is-link is-outlined" title="Actualizar">
                        <span class="icon is-small">
                          <i class="fa-solid fa-arrows-rotate"></i>
                        </span>
                      </button>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="table-container">
              <table class="table is-striped is-narrow is-hoverable">
                <thead class="has-background-link">
                  <tr>
                    <th class="is-hidden-mobile"></th>
                    <th class="has-text-left">Hora</th>
                    <th>Vendedor</th>
                    <th class="has-text-left"><abbr title="Forma de pago">Pago</abbr></th>
                    <th><abbr title="Valor de venta">Venta</abbr></th>
                    <th class="is-hidden-mobile"><abbr title="Impuestos">Imp</abbr></th>
                    <th class="is-hidden-mobile"><abbr title="Base Imponible para impuestos">Base</abbr></th>
                    <th class="is-hidden-mobile"><abbr title="Comision sobre base imponible">%B</abbr></th>
                    <th class="is-hidden-mobile" style="white-space: nowrap"><abbr
                        title="Comision sobre valor de venta bruto">%</abbr></th>
                    <th><abbr title="Propinas">Prop</abbr></th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="summary-body">
                  <!-- render summary-->
                </tbody>
                <tfoot id="summary-footer" class="has-text-weight-semibold ">
                  <tr class="has-background-grey-light has-text-right">
                    <td class="is-hidden-mobile"></td>
                    <th class="total-value" colspan="4">0.00</th>
                    <th class="total-taxes is-hidden-mobile">0.00</th>
                    <th class="total-taxable-income is-hidden-mobile">0.00</th>
                    <th class="total-barber-commissions is-hidden-mobile">0.00</th>
                    <th class="total-barber-commissions-tmp is-hidden-mobile">0.00</th>
                    <th class="total-tips-by-bank">0.00</th>
                    <td></td>
                  </tr>
                  <tr class="has-background-grey-lighter">
                    <td class="is-hidden-mobile"></td>
                    <th class="has-text-right" colspan="3">Tarjetas Débito y Crédito ( - )</th>
                    <th class="total-card has-text-right">0.00</th>
                    <td class="is-hidden-mobile" colspan="4"></td>
                    <td colspan="2"></td>
                  </tr>
                  <tr class="has-background-grey-lighter">
                    <td class="is-hidden-mobile"></td>
                    <th class="has-text-right" colspan="3">Transferencias ( - )</th>
                    <th class="total-transfer has-text-right">0.00</th>
                    <td class="is-hidden-mobile" colspan="4"></td>
                    <td colspan="2"></td>
                  </tr>
                  <tr class="has-background-grey-light">
                    <td class="is-hidden-mobile"></td>
                    <th class="has-text-right" colspan="3">Efectivo</th>
                    <th class="total-cash has-text-right">0.00</th>
                    <td class="is-hidden-mobile" colspan="4"></td>
                    <td colspan="2"></td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>
      <br><br>
      <div class="by-seller card p-0 is-size-7">
        <header class="card-header has-background-info-dark">
          <p class="card-header-title has-text-white is-size-6">
            <span class="icon-text">
              <span class="icon">
                <i class="fa-solid fa-scissors"></i>
              </span>
              <span>Ventas por vendedor</span>
            </span>
          </p>
        </header>
        <div class="card-content has-background-info-light m-0 p-0">
          <div class="content">
            <div class="table-container">
              <table class="table is-striped is-narrow is-hoverable">
                <thead class="has-background-link">
                  <tr>
                    <th class="is-hidden-mobile"></th>
                    <th class="has-text-left">Hora</th>
                    <th class="has-text-left"><abbr title="Vendedor o Barbero">Vende</abbr></th>
                    <th><abbr title="Identificacion del cliente">Cliente</abbr></th>
                    <th><abbr title="Valor de venta">Venta</abbr></th>
                    <th class="is-hidden-mobile"><abbr title="Impuestos">Imp</abbr></th>
                    <th class="is-hidden-mobile"><abbr title="Base Imponible para impuestos">Base</abbr></th>
                    <th class="is-hidden-mobile"><abbr title="Comision sobre base imponible">%B</abbr></th>
                    <th style="white-space: nowrap"><abbr title="Comision sobre valor de venta bruto">%</abbr></th>
                    <th><abbr title="Propinas">Prop</abbr></th>
                  </tr>
                </thead>
                <tbody id="seller-body">
                  <!-- render summary by seller-->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <br><br>
      <div class="expenses card p-0 is-size-7">
        <header class="card-header has-background-info-dark">
          <p class="card-header-title has-text-white is-size-6">
            <span class="icon-text">
              <span class="icon">
                <i class="fa-solid fa-money-bill-trend-up"></i>
              </span>
              <span>Egresos de caja</span>
            </span>
          </p>
        </header>
        <div class="card-content has-background-info-light m-0 p-0">
          <div class="content">
            <div class="table-container">
              <table class="table is-striped is-narrow is-hoverable">
                <thead class="has-background-link">
                  <tr class="has-text-left">
                    <th class="is-hidden-mobile"></th>
                    <th class="is-hidden-mobile">Tipo</th>
                    <th class="is-hidden-mobile">Comprobante</th>
                    <th style="white-space: nowrap"><abbr title="Responsable o beneficiario">Resp/Benef</abbr></th>
                    <th>Detalles</th>
                    <th>Valor</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="expenses-body">
                  <!-- render expenses-->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <br><br>
      <div class="daily-closing card p-0 is-size-7">
        <header class="card-header has-background-info-dark">
          <p class="card-header-title has-text-white is-size-6">
            <span class="icon-text">
              <span class="icon">
                <i class="fa-solid fa-cash-register"></i>
              </span>
              <span>Cierre diario de caja</span>
            </span>
          </p>
        </header>
        <div class="card-content has-background-info-light m-0 p-0">
          <div class="content">
            <div class="summary-filters field is-horizontal m-0 p-0 pt-2 pl-2">
              <div class="field-label is-normal is-hidden-mobile">
                <label class="label">Fecha:</label>
              </div>
              <div class="field-body">
                <div class="field is-expanded">
                  <div class="field has-addons">
                    <p class="control is-narrow" title="Fecha de cierre de caja diario">
                      <input type="date" class="summary-day input is-small" onkeydown="return false" required />
                    </p>
                    <p class="control">
                      <button class="summary-day-update button is-small is-link is-outlined" title="Actualizar">
                        <span class="icon is-small">
                          <i class="fa-solid fa-arrows-rotate"></i>
                        </span>
                      </button>
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="field is-horizontal" title="Responsable del cierre de caja">
              <div class="field-label is-normal is-hidden-mobile pt-0">
                <label class="label">Responsable:</label>
              </div>
              <div class="field-body">
                <div class="field">
                  <p class="responsables-container control is-size-7">
                    <!-- render responsables -->
                  </p>
                </div>
              </div>
            </div>

            <table class="table">
              <tbody id="daily-closing">
                <tr class="has-background-grey-lighter is-size-6">
                  <th colspan="2">Saldo en caja inicial</th>
                  <th class="initial-balance has-text-right">0.00</th>
                </tr>
                <tr>
                  <th>Ventas en efectivo</th>
                  <td class="is-narrow">+</td>
                  <td class="cash-sales is-narrow has-text-right">0.00</td>
                </tr>
                <tr class="has-background-grey-lighter">
                  <th>Adelantos</th>
                  <td>-</td>
                  <td class="advances has-text-right">0.00</td>
                </tr>
                <tr>
                  <th>Depositos</th>
                  <td>-</td>
                  <td class="deposits has-text-right">0.00</td>
                </tr>
                <tr class="has-background-grey-lighter">
                  <th>Compras</th>
                  <td>-</td>
                  <td class="shopping has-text-right">0.00</td>
                </tr>
                <tr>
                  <th>Gastos</th>
                  <td>-</td>
                  <td class="expenses has-text-right">0.00</td>
                </tr>
                <tr class="has-background-grey-lighter">
                  <th>Comisiones anticipadas</th>
                  <td>-</td>
                  <td class="commissions has-text-right">0.00</td>
                </tr>
                <tr>
                  <th>Devolucion de propinas tarjeta/transferencia</th>
                  <td>-</td>
                  <td class="tips-by-bank has-text-right">0.00</td>
                </tr>
                <tr class="has-background-grey-lighter">
                  <th>Pago salarios</th>
                  <td>-</td>
                  <td class="salaries has-text-right">0.00</td>
                </tr>
                <tr>
                  <th>Ajuste</th>
                  <td class="fit-symbol "></td>
                  <td class="fit has-text-right">0.00</td>
                </tr>
                <tr class="has-background-grey-light is-size-6">
                  <th colspan="2">Saldo en caja al cierre</th>
                  <th class="total-sales has-text-right">0.00</th>
                </tr>
                <tr class="has-background-grey-lighter is-size-6">
                  <th colspan="2">Ventas con tarjeta (CxC)</th>
                  <td class="card-sales has-text-right">0.00</td>
                </tr>
                <tr class="has-background-grey-light is-size-6">
                  <th colspan="2">Transferencias</th>
                  <td class="transfer-sales has-text-right">0.00</td>
                </tr>

              </tbody>
            </table>
          </div>
          <footer class="card-footer as-background-info-light">
            <button class="daily-closing-delete card-footer-item button is-danger mr-4 is-hidden">
              <span>Eliminar</span>
              <span class="icon">
                <i class="fa-solid fa-xmark"></i>
              </span>
            </button>
            <button class="daily-closing-save card-footer-item button is-primary">
              <span>Guardar</span>
              <span class="icon">
                <i class="fa-solid fa-check"></i>
              </span>
            </button>
          </footer>
        </div>
      </div>
    </div>
  </div>

  <template id="operator-template">
    <label class="radio">
      <input type="radio" class="operator-code" name="responsable" value="NOOPERATOR">
      <span class="operator-alias">NOOPERATOR</span>
    </label>
  </template>

  <template id="sale-row">
    <tr class="has-text-right">
      <td class="index is-narrow is-hidden-mobile"></td>
      <td class="time is-narrow has-text-left pl-1"></td>
      <td class="seller is-narrow has-text-left"></td>
      <td class="payment has-text-left"></td>
      <th class="value is-narrow"></th>
      <td class="taxes is-narrow is-hidden-mobile"></td>
      <td class="taxable-income is-narrow is-hidden-mobile"></td>
      <td class="barber-commission is-narrow is-hidden-mobile"></td>
      <td class="barber-commission-tmp is-narrow is-hidden-mobile"></td>
      <td class="tips-by-bank is-narrow"></td>
      <td class="is-narrow">
        <a class="sale-delete is-hidden" title="Eliminar venta" data-key="UID">
          <span class="icon is-small has-text-danger ">
            <i class="fa-solid fa-trash-can"></i>
          </span>
        </a>
      </td>
    </tr>
  </template>

  <template id="seller-row">
    <tr class="has-text-right">
      <td class="index is-narrow is-hidden-mobile"></td>
      <td class="time is-narrow  has-text-left pl-1"></td>
      <td class="seller is-narrow has-text-left"></td>
      <td class="customer has-text-left"></td>
      <td class="value is-narrow"></td>
      <td class="taxes is-narrow is-hidden-mobile"></td>
      <td class="taxable-income is-narrow is-hidden-mobile"></td>
      <td class="barber-commission is-narrow is-hidden-mobile"></td>
      <td class="barber-commission-tmp is-narrow"></td>
      <td class="tips-by-bank is-narrow"></td>
    </tr>
  </template>

  <template id="seller-totals">
    <tr class="has-background-grey-light has-text-weight-semibold has-text-right">
      <td class="is-hidden-mobile"></td>
      <th colspan="3">Total</th>
      <th class="total-value"></th>
      <th class="total-taxes is-hidden-mobile"></th>
      <th class="total-taxable-income is-hidden-mobile"></th>
      <th class="total-barber-commissions is-hidden-mobile"></th>
      <th class="total-barber-commissions-tmp"></th>
      <th class="total-barber-tips"></th>
    </tr>
    <tr class="has-background-grey-lighter has-text-right">
      <td class="is-hidden-mobile"></td>
      <th colspan="3">Pagado</th>
      <td></td>
      <td class="paid-barber-commissions is-hidden-mobile" colspan="3"></td>
      <td class="paid-barber-commissions-tmp"></td>
      <td class="paid-barber-tips"></td>
    </tr>
    <tr class="has-background-grey-light has-text-weight-semibold has-text-right">
      <td class="is-hidden-mobile"></td>
      <th colspan="3">Pendiente pago</th>
      <td></td>
      <th class="pending-barber-commissions is-hidden-mobile" colspan="3"></th>
      <th class="pending-barber-commissions-tmp"></th>
      <th class="pending-barber-tips"></th>
    </tr>
  </template>

  <template id="expense-row">
    <tr>
      <td class="index is-narrow has-text-right is-hidden-mobile"></td>
      <td class="type is-narrow is-hidden-mobile"></td>
      <td class="voucher is-narrow is-hidden-mobile"></td>
      <td class="responsable is-narrow"></td>
      <td class="details"></td>
      <td class="value is-narrow has-text-right"></td>
      <td class="is-narrow">
        <a class="expense-delete is-hidden" title="Eliminar egreso" data-key="UID">
          <span class="icon is-small has-text-danger">
            <i class="fa-solid fa-trash-can"></i>
          </span>
        </a>
      </td>
    </tr>
  </template>

  <template id="expense-totals">
    <tr class="has-background-grey-lighter has-text-weight-semibold has-text-right">
      <td class="is-hidden-mobile" colspan="3"></td>
      <th class="type" colspan="2"></th>
      <th class="total"></th>
      <td></td>
    </tr>
  </template>

  <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
  <script src="./js/dom/init.js" type="module"></script>
  <script src="./js/f_daily_closing/manager_shop_daily_closing.js" type="module"></script>
</body>

</html>